generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model Products {
  product_id                       Int    @id @default(autoincrement())
  product_name                     String
  salesDistributionDistribution_id Int?

  @@index([salesDistributionDistribution_id])
}

model SalesDistribution {
  distribution_id Int      @id @default(autoincrement())
  user_id         Int
  sales_amount    Float
  date            DateTime
  userUser_id     Int?

  @@index([userUser_id])
}

model User {
  user_id       Int    @id @default(autoincrement())
  username      String
  email         String
  password_hash String
}

model UserHierarchy {
  hierarchy_id      Int    @id @default(autoincrement())
  parent_user_id    Int
  child_user_id     Int
  relationship_type String
  userUser_id       Int?

  @@index([userUser_id])
  @@index([child_user_id], map: "idx_child_user_id_for_relations")
  @@index([parent_user_id], map: "idx_parent_user_id_for_relations")
}

model Admin {
  id              Int    @id @default(autoincrement())
  email           String @unique
  hashed_password String

  @@index([email, id])
}
